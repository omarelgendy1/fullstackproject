{"version":3,"file":"flash-messages.component.js","sources":["flash-messages.component.js"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAKO;AACP;;;;;;;;;;;;;;;;;;;yHAA+B;AAC/B;AACA;AACA;AACA","sourcesContent":["\"use strict\";\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar core_1 = require(\"@angular/core\");\r\nvar flash_message_1 = require(\"./flash-message\");\r\nvar flash_messages_service_1 = require(\"./flash-messages.service\");\r\nvar FlashMessagesComponent = /** @class */ (function () {\r\n    function FlashMessagesComponent(_flashMessagesService, _cdRef) {\r\n        this._flashMessagesService = _flashMessagesService;\r\n        this._cdRef = _cdRef;\r\n        this._defaults = {\r\n            text: 'default message',\r\n            closeOnClick: false,\r\n            showCloseBtn: false,\r\n            cssClass: ''\r\n        };\r\n        this.messages = [];\r\n        this.classes = '';\r\n        this._grayOut = false;\r\n        this._flashMessagesService.show = this.show.bind(this);\r\n        this._flashMessagesService.grayOut = this.grayOut.bind(this);\r\n    }\r\n    FlashMessagesComponent.prototype.ngOnInit = function () { };\r\n    FlashMessagesComponent.prototype.show = function (text, options) {\r\n        var _this = this;\r\n        if (options === void 0) { options = {}; }\r\n        var defaults = {\r\n            timeout: 2500,\r\n            closeOnClick: false,\r\n            showCloseBtn: false,\r\n            cssClass: '',\r\n            text: \"default message\"\r\n        };\r\n        for (var attrname in options) {\r\n            defaults[attrname] = options[attrname];\r\n        }\r\n        var message = new flash_message_1.FlashMessage(text, defaults.cssClass, defaults.closeOnClick, defaults.showCloseBtn);\r\n        message.timer = window.setTimeout(function () {\r\n            _this._remove(message);\r\n            _this._cdRef.detectChanges();\r\n        }, defaults.timeout);\r\n        this.messages.push(message);\r\n        this._cdRef.detectChanges();\r\n    };\r\n    FlashMessagesComponent.prototype.close = function (message) {\r\n        clearTimeout(message.timer);\r\n        this._remove(message);\r\n        this._cdRef.detectChanges();\r\n    };\r\n    FlashMessagesComponent.prototype.alertClicked = function (message) {\r\n        if (message.closeOnClick) {\r\n            this.close(message);\r\n        }\r\n    };\r\n    FlashMessagesComponent.prototype.grayOut = function (value) {\r\n        if (value === void 0) { value = false; }\r\n        this._grayOut = value;\r\n    };\r\n    FlashMessagesComponent.prototype._remove = function (message) {\r\n        this.messages = this.messages.filter(function (msg) { return msg.id !== message.id; });\r\n    };\r\n    FlashMessagesComponent = __decorate([\r\n        core_1.Component({\r\n            selector: 'flash-messages',\r\n            template: \"\\n      <div id=\\\"flashMessages\\\" class=\\\"flash-messages\\\">\\n          <div id=\\\"grayOutDiv\\\" *ngIf='_grayOut && messages.length'></div>\\n          <div class=\\\"alert flash-message {{message.cssClass}}\\\" [ngClass]=\\\"{'alert-dismissible':message.showCloseBtn}\\\" [style.cursor]=\\\"message.closeOnClick?'pointer':'inherit'\\\" *ngFor='let message of messages' (click)=\\\"alertClicked(message)\\\">\\n              <button *ngIf=\\\"message.showCloseBtn\\\" type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"alert\\\" aria-label=\\\"Close\\\" (click)=\\\"close(message)\\\"><span aria-hidden=\\\"true\\\">&times;</span></button>\\n              <div [innerHTML]=\\\"message.text\\\"></div>\\n          </div> \\n      </div>\\n  \"\r\n        }),\r\n        __metadata(\"design:paramtypes\", [flash_messages_service_1.FlashMessagesService, core_1.ChangeDetectorRef])\r\n    ], FlashMessagesComponent);\r\n    return FlashMessagesComponent;\r\n}());\r\nexports.FlashMessagesComponent = FlashMessagesComponent;\r\n"]}